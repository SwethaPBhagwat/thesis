Linear trap measurements have been taken twice.
The first measurement was with the subcarrier at the same offset frequency from
the carrier for each measurement.
The results generally were in line with the theory, however there were
complications with the layout that we felt should be improved on.

\section{First Experiment}

%\begin{figure}[htbp]
%    \centering
%    \includegraphics[width=20cm]{./figures/april_results_olgfit.eps}
%    \caption[Data Fitting of Open Loop Gain for 1st Results]{This is the open
%        loop gain fit of the last 7 measurements taken during a segment of
%        time in which the cavity was continuously locked.
%        The trap cavity had been locked for a few hours at this point and
%        seemed to have stabilized compared to earlier in the lock segment.
%        These measurements were taken no more than 5 minutes apart from each
%        other so the effects of any drifted were minimized.}
%    \label{fig:olgapril}
%\end{figure}

The first set of measurements seemed to have a large drift.
One of the reasons for this is the fact that the carrier beam was not
well aligned to the subcarrier beam causing drifts in the power ratio between
carrier and subcarrier as the overall alignment drifted.
Another complication in the first run was due to the fact that the carrier and
subcarrier beams had exactly the same polarizations which caused a strong
beat signal at 355kHz. This beat signal was low enough in frequency that
it would show strongly in the resonant \ac{rfpd} output, likely causing
saturation effects in the electronics that would lead to an unpredictable
subcarrier detuning.
The effect of carrier and subcarrier beating will be discussed further in
section \ref{sec:expimps}

Despite these issues we were clearly able to observe
stable and unstable optical springs and there was a short stretch of
measurements that did line up with the model with certain assumptions
about the parameter space.


\begin{figure}
  \label{fig:april_space1}
  \tikzsetnextfilename{april_space1}
  \begin{tikzpicture}
  \begin{axis}[
    name=plot1,
    height=8cm,
    width=14cm,
    ylabel={Resonant Frequency $(H\!z)$},
    xlabel={Subcarrier Detuning $(kH\!z)$},
    grid=major,
  ]
  \addplot[blue,very thick] table[x index=1,y index=2]
    {./matlab_traces/april_fitspace_stable.dat};
  \addplot[green,very thick] table[x index=1,y index=2]
    {./matlab_traces/april_fitspace_unstable.dat};
  \addplot[blue,only marks] table[x index=1,y index=2]
    {./matlab_traces/april_pointspace_stable.dat};
  \addplot[green,only marks] table[x index=1,y index=2]
    {./matlab_traces/april_pointspace_unstable.dat};
  \end{axis}
  \end{tikzpicture}
    \caption[Parameters from 1st Experiment]{
      The solid lines show the theoretical
      spring frequencies for all of the measurements that took place in a span
      of about 30 minutes during the first experiment at the end of one lock
      stretch.
      The dots correspond to the actual measurements of the optical spring at
      different subcarrier detunings. The entire space depicted is in the region
      of static stability, i.e. the optical spring provides a restoring force.
      The colors correspond to the dynamic stability of the optical spring.
      Blue is dynamically stable.
      Green is dynamically unstable.
      The carrier frequency remained at a fixed offset from the subcarrier at
      355 kHz.
      The fitting for this plot was done by plotting the actual measured
      resonant frequency vs. the error point offset in mV.
      The theoretical curve was transformed to match the axes using the
      \ac{pdh} transformation shown in figure \ref{fig:pdh}.
      I could then fit the curve using four parameters:
      finesse, total power, error point voltage offset,
      and carrier to subcarrier power ratio.
      The parameters used in this plot are:
      $\mathcal{F}=8000$, power ratio$=1.5$, total power$=344.7\mathrm{mW}$,
      error point offset$=-670\mathrm{mV}=-19.07\mathrm{kHz}$.
      This does not include any effect due to the thermal expansion of the
      optics mentioned in section \ref{sec:opticthermalexpansion}.
      }
\end{figure}

\begin{figure}
  \label{fig:april_olg1}
  \tikzsetnextfilename{april_olg1}
  \begin{tikzpicture}
  \begin{semilogyaxis}[
    name=plot1,
    height=5cm,
    width=7cm,
    xmin=760,
    xmax=880,
    ylabel={Magnitude},
    grid=major,
  ]
  \addplot[blue,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_38.dat};
  \addplot[blue] table[x index=0,y index=1] {./matlab_traces/april_fit.dat};
  \addplot[red,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_39.dat};
  \addplot[red] table[x index=0,y index=3] {./matlab_traces/april_fit.dat};
  \addplot[green,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_40.dat};
  \addplot[green] table[x index=0,y index=5] {./matlab_traces/april_fit.dat};
  \end{semilogyaxis}


  \begin{axis}[
    name=plot3,
    at=(plot1.below south), anchor=north,
    height=5cm,
    width=7cm,
    xmin=760,
    xmax=880,
    xlabel={Frequency (Hz)},
    ylabel={Phase},
    grid=major,
  ]
  \addplot[blue,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_38.dat};
  \addplot[blue] table[x index=0,y index=2] {./matlab_traces/april_fit.dat};
  \addplot[red,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_39.dat};
  \addplot[red] table[x index=0,y index=4] {./matlab_traces/april_fit.dat};
  \addplot[green,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_40.dat};
  \addplot[green] table[x index=0,y index=6] {./matlab_traces/april_fit.dat};
  \end{axis}
  \begin{axis}[
    name=plot4,
    at=(plot3.east), anchor=left of west,
    height=5cm,
    width=7cm,
    xmin=760,
    xmax=880,
    xlabel={Frequency (Hz)},
    ylabel={Phase},
    grid=major,
  ]
  \addplot[blue,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_41.dat};
  \addplot[blue] table[x index=0,y index=8] {./matlab_traces/april_fit.dat};
  \addplot[red,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_42.dat};
  \addplot[red] table[x index=0,y index=10] {./matlab_traces/april_fit.dat};
  \addplot[green,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_43.dat};
  \addplot[green] table[x index=0,y index=12] {./matlab_traces/april_fit.dat};
  \addplot[black,very thick] table[x index=0,y index=2] {./matlab_traces/april_olg_44.dat};
  \addplot[black] table[x index=0,y index=14] {./matlab_traces/april_fit.dat};
  \end{axis}

  \begin{semilogyaxis}[
    name=plot2,
    at=(plot4.north), anchor=below south,
    height=5cm,
    width=7cm,
    xmin=760,
    xmax=880,
    ylabel={Magnitude},
    grid=major,
  ]
  \addplot[blue,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_41.dat};
  \addplot[blue] table[x index=0,y index=7] {./matlab_traces/april_fit.dat};
  \addplot[red,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_42.dat};
  \addplot[red] table[x index=0,y index=9] {./matlab_traces/april_fit.dat};
  \addplot[green,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_43.dat};
  \addplot[green] table[x index=0,y index=11] {./matlab_traces/april_fit.dat};
  \addplot[black,very thick] table[x index=0,y index=1] {./matlab_traces/april_olg_44.dat};
  \addplot[black] table[x index=0,y index=13] {./matlab_traces/april_fit.dat};
  \end{semilogyaxis}

  \end{tikzpicture}
    \caption[Data Fitting of Open Loop Gain for 1st Results]{This is the open
        loop gain fit of the last 7 measurements taken during a segment of
        time in which the cavity was continuously locked.
        The three traces in the top two plots are of the stable spring with
        a large negative detuning.
        They correspond to the three blue dots from figure
        \ref{fig:april_space1} with the most negative subcarrier detuning.
        The thick traces in all plots are from the measurements in the lab.
        The thin traces are of the modelled open loop gain.
        The trap cavity had been locked for a few hours at this point and
        seemed to have stabilized compared to earlier in the lock segment.
        These measurements were taken no more than 5 minutes apart from each
        other so the effects of any drifting were minimized.}
  \label{fig:aprilolg1}
\end{figure}


\section{Experimental Layout Revision}
\label{sec:expimps}
From our first layout design there was a rather
large beat signal on the \ac{rfpd} used for generating the \ac{pdh} signal
for our locking feedback servo.
This beat signal is a result of our initial layout involving the combining of
carrier and subcarrier beams before a \ac{fi} which resulted in the two beams
having the same polarization.
This produces a beat signal of the difference in the two frequencies.
The beat signal shows up in our resonant \ac{rfpd} because we use a small
frequency offset.
We feared there could be saturations in the photodiode electronics that would
cause unpredictable electronic offsets in the trap locking feedback servo
resulting in an error on the subcarrier detuning lock point.

Additional improvements included several things to make the experiment easier.
We added a camera to look at the reflected beam which helped with alignment.

We also added some polarization cubes to take advantage of the orthogonal
polarizations and monitor the two beams independently.

Aligning the beam to the cavity using the steering mirrors on table 2 was very
difficult because the cavity mirrors could get excited quite easily from
touching the table.
So added steering mirrors on table 1 after the carrier and subcarrier
beams are combined. This allowed us to compensate for drifts in alignment
between the two tables without having to touch table 2.

\subsection{Faraday Isolator}
The Faraday isolator is composed of a Faraday rotator and two \ac{pbs} cubes.
The Faraday rotator is a medium which in the presence of a magnetic field
will rotate the polarization of light as it propagates through the medium.
There are other, much simpler devices that can rotate the polarization.
However, the advantage of the \ac{fi} is that it will rotate the polarization
in a fixed direction relative to the lab and not relative to the direction
of propagation.

In the case of the Faraday isolator, the polarization is rotated by 45 degrees
so that any reflected light comes back through the \ac{fi} with a 90 degree
rotation.
The isolation is then done by adding a \ac{pbs} cube at the input to the
Faraday rotator. Then we also add one on the output because there will often be
additional optics that will disturb the polarization of the reflected light
entering the \ac{fi} from the output side.
Another way of putting it is that the \ac{pbs} on the input side transmits
only the linear polarization that will transmit through the output \ac{pbs}.
The output \ac{pbs} transmits only the linear polarization that will be
reflected by the input \ac{pbs}.


\section{Second Experiment}

During the second experiment we were able to observe several stable and
unstable spring as before. This time we varied the frequency offset between
carrier and subcarrier for each measurement, keeping the other settings
fixed.

We ran into some complications while fitting the data.
The stability of the optical springs would not match with the theory without
the addition of some extra physics.
With the addition of an effect from the thermal expansion of the high
reflective optical coatings, we were able to fit the stablility
properly.

Thermal expansion couples in to the transfer function by the fact that driving
the position of the mirror causes a power fluctuation and thus a temperature
fluctuation in the surface of the mirror due to absorption.
This temperature fluctuation causes a fluctuation in the thickness
of the optic.
This will be expained in more detail in section
\ref{sec:opticthermalexpansion}.
It turns out that only 5ppm absorption is required to account for the
discrepancy in stablility.
This is, in part, due to the high circulating power and the small
beam spot size on the cavity end mirrors.
The results of this fitting can be seen in figure \ref{fig:juneOLGresults}.

\subsection{Optic Thermal Expansion Contribution}
\label{sec:opticthermalexpansion}
See section 2.8.5 of Stefan Ballmer's thesis  \cite{Ballmer:thesis} for
a thorough discussion on thermal noise couplings.
The relevant part that we are interested in is the effect of changing
the thickness of the optic itself due to thermal expansion.
We want to first consider the penetration depth $d$ of the thermal
fluctuations. This is given by,
\begin{align}
d &= \sqrt{\frac{\kappa}{2\pi fC\rho}} = 50\mu m
     \sqrt{\frac{400 \mathrm{Hz}}{f}} \,.
\end{align}
This is nearly an order of magnitude smaller than the beam spot diameter, which
is about $320\mu m$. The change in thickness $\Delta_z$ of the optic can then
be approximated with
\begin{equation} \label{eq:deltaz}
\Delta_z = \left(1+\eta\right)\alpha\frac{ \delta P }{2\pi ifC\rho A} \, ,
\end{equation}
where $\delta$ is the absorption coefficient, $A$ is the area of the beam,
and $\eta$ is the Poisson ratio.

From equation \ref{eq:deltaz} we can get the transfer function from force to
traplength. With a factor of $c/2$ to remove the optical power to force from
the optical spring $K_{OS}$, the transfer function depicted in figure
\ref{fig:traploopCTE} is
\begin{equation}
\frac{-c \delta \alpha \left(1+\eta\right)}{4\pi ifC\rho A} \, .
\end{equation}

The majority of the change in power buildup due to cavity length is due to the
carrier beam which has a positive detuning.
Because of this detuning, expansion of the optics will shorten the cavity and
increase the intracavity power.
The intracavity power fluctuations will thus have a positive feedback and add
to the instability of the optical spring.

\begin{figure}
\centering
\tikzsetnextfilename{traploopCTE}
\begin{tikzpicture}[
  analog/.style={rectangle,draw=blue!50,fill=blue!20,thick,align=center,
    outer sep=0,minimum width=2cm,
    minimum height=1cm,
    text width=1.8cm},
  digital/.style={rectangle,draw=black!50,fill=black!20,thick,align=center,
    outer sep=0,minimum width=2cm,
     minimum height=1cm,
    text width=1.8cm},
  physical/.style={rectangle,draw=green!50,fill=green!20,thick,align=center,
    outer sep=0,minimum width=2cm,
    minimum height=1cm,
    text width=1.8cm},
  optical/.style={rectangle,draw=red!50,fill=red!20,thick,align=center,
    outer sep=0,minimum width=2cm,
    minimum height=1cm,
    text width=1.8cm}]
  \renewcommand{\baselinestretch}{0.9}
  \begin{scriptsize}
  \node[circle,draw=black] (sum1) at (-3,-1.5) {$+$};
  \node[circle,draw=black] (sum2) at (3,0) {$+$};
  \node[analog] (F) at (0,-3) {Active Feedback};
  \node[optical] (O) at (0,-1.5) {Optical Spring};
  \node[physical] (S) at (0,1.5) {Small Mass Suspension};
  \node[physical] (CTE) at (0,0) {Thermal Optic Expansion};
  \coordinate (j1) at (-3,-3) {};
  \coordinate (j2) at (-3,-1.5) {};
  \coordinate (j3) at (-3,0) {};
  \coordinate (j4) at (-3,1.5) {};
  \coordinate (j5) at (3,-3) {};
  \coordinate (j6) at (3,-1.5) {};
  \coordinate (j7) at (3,0) {};
  \coordinate (j8) at (3,1.5) {};
  \draw[thick] (F) -- (j1);
  \draw[thick,->] (O) -- (sum1);
  \draw[thick,->] (j3) -- (CTE);
  \draw[thick,->] (j4) -- (S);
  \draw[thick,->] (j1) -- (sum1);
  \draw[thick] (sum1) -- (j3);
  \draw[thick] (j3) -- (j4);
  \draw[thick,<-] (F) -- (j5);
  \draw[thick,<-] (O) -- (j6);
  \draw[thick,<-] (sum2) -- (CTE);
  \draw[thick] (j8) -- (S);
  \draw[thick] (j5) -- (j6);
  \draw[thick] (j6) -- (sum2);
  \draw[thick,<-] (sum2) -- (j8);
  \node[rotate=45] (force) at (-6,0) {\LARGE FORCE};
  \node[rotate=45] (pos) at (6,0) {\LARGE POSITION};
  \end{scriptsize}
\end{tikzpicture}
  \caption[Trap Loop With Optic Thermal Expansion]{
    This shows how the thermal expansion effect couples into the experiment.
    Active feedback represents the two feedback paths displayed in figure
    \ref{fig:traploops}.
    }
  \label{fig:traploopCTE}
\end{figure}


\begin{figure}
  \tikzsetnextfilename{juneOLGresults}
  \begin{tikzpicture}
  \begin{loglogaxis}[
    name=plot1,
    height=7cm,
    width=14cm,
    xmin=100,
    xmax=2000,
    xtick={1e2,1e3},
    ylabel={Magnitude},
    grid=both,
  ]
  \addplot[blue,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults13fit.dat};
  \addplot[green,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults20fit.dat};
  \addplot[red,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults10fit.dat};
  \addplot[teal,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults15fit.dat};
  \addplot[magenta,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults18fit.dat};
  \addplot[yellow,very thick,dashed] table[x index=0,y index=1]
    {./matlab_traces/juneResults19fit.dat};
  \addplot[blue,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults13.dat};
  \addplot[green,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults20.dat};
  \addplot[red,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults10.dat};
  \addplot[teal,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults15.dat};
  \addplot[magenta,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults18.dat};
  \addplot[yellow,very thick] table[x index=0,y index=1] {./matlab_traces/juneResults19.dat};
  \end{loglogaxis}
  \begin{semilogxaxis}[
    name=plot2,
    at=(plot1.below south), anchor=above north,
    height=7cm,
    width=14cm,
    xmin=100,
    xmax=2000,
    xtick={1e2,1e3},
    xlabel={Frequency (Hz)},
    ylabel={Phase (Deg)},
    legend style={legend pos=north west,font=\tiny},
    grid=both,
  ]
  \addplot[blue,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults13fit.dat};
  \addplot[green,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults20fit.dat};
  \addplot[red,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults10fit.dat};
  \addplot[teal,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults15fit.dat};
  \addplot[magenta,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults18fit.dat};
  \addplot[yellow,very thick,dashed,forget plot] table[x index=0,y index=2]
    {./matlab_traces/juneResults19fit.dat};
  \addplot[blue,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults13.dat};
  \addlegendentry{DetC=290.8kHz,DetS=-39.2kHz,Pratio=3.46}
  \addplot[green,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults20.dat};
  \addlegendentry{DetC=285.0kHz,DetS=-45.0kHz,Pratio=3.96}
  \addplot[red,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults10.dat};
  \addlegendentry{DetC=285.1kHz,DetS=-34.9kHz,Pratio=3.50}
  \addplot[teal,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults15.dat};
  \addlegendentry{DetC=264.2kHz,DetS=-35.8kHz,Pratio=3.94}
  \addplot[magenta,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults18.dat};
  \addlegendentry{DetC=238.2kHz,DetS=-21.8kHz,Pratio=4.27}
  \addplot[yellow,very thick] table[x index=0,y index=2] {./matlab_traces/juneResults19.dat};
  \addlegendentry{DetC=222.5kHz,DetS=-17.5kHz,Pratio=4.42}
  \end{semilogxaxis}
  \end{tikzpicture}
    \caption[Data Fitting of Open Loop Gain for 1st Results]{This is the open
      loop gain fit for the second experiment. The solid lines are the measured
      optical spring transfer functions. The dashed lines are the corresponding
      theoretical transfer functions. In the legend, "DetC" and "DetS" stand for
      carrier and subcarrier detuning respectively. Pratio is the power ratio
      of carrier to subcarrier input power.}
  \label{fig:juneOLGresults}
\end{figure}


\begin{figure}
  \tikzsetnextfilename{noisepassive}
  \begin{tikzpicture}
  \begin{loglogaxis}[
    height=12cm,
    width=14cm,
    xlabel={Frequency (Hz},
    ylabel={Trap Length Noise $(\mathrm{m}/\sqrt{\mathrm{Hz}})$},
    xmin=10,
    xmax=6000,
    ymin=1e-16,
    ymax=1e-8,
    grid=major,
    legend cell align=left,
  ]
  \addplot[blue,very thick] table[x index=0,y index=1]
    {./matlab_traces/june_noises.dat};
  \addlegendentry{Measured Trap Length Noise}
  \addplot[red,very thick] table[x index=0,y index=5]
    {./matlab_traces/june_noises.dat};
  \addlegendentry{Trap Length Noise Without Active Feedback}
  \addplot[red,dashed,very thick] table[x index=0,y index=6]
    {./matlab_traces/june_noises.dat};
  \addlegendentry{Trap Length RMS Without Active Feedback}
  \end{loglogaxis}
  \end{tikzpicture}
    \caption[Estimate of Passively Attenuated Noise]{
    This is the noise budget which includes the measured
    cavity length noise with a stable optical spring.
    }
  \label{fig:noisepassive}
\end{figure}


